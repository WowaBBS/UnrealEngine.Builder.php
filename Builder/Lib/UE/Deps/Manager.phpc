<?  $Loader->Parent_Class('/Object');  $Loader->Load_Lib('/FS/Param'); //  $Loader->Load_Type('/FS/Param');//Require_Once 'Lib/Cache/List.php';    //Require_Once 'Lib/Cache/Dir.php';        class C_UE_Deps_Manager extends C_Object  {    Var $Log      ;    Var $Content  ;    Var $Save     ;    Var $Contents =[];    Var $Assets   =null;    Var $Required =[];        Var $Cache_Assets_Dir  ='Assets';    Var $Cache_MD5_File    ='Cache/md5.php';    Var $Cache_Info_File   ='Cache/info.php';    Var $Asset_Content_Dir ='../Content';    Var $Asset_Save_Dir    ='Save';        Var $Cache_Manager =null;    Var $Cache_Assets  ;    Var $Cache_MD5     ;    Var $Cache_Info    ;        Protected Function _Init(Array $Args)    {      Parent::_Init($Args);      $this->Log      =$this->Create_Object('/UE/Deps/Log'     ,$Args['Log'     ]??[]);      $this->Content  =$this->Create_Object('/UE/Deps/Content' ,$Args['Content' ]??[]);      $this->Save     =$this->Create_Object('/UE/Deps/Content' ,$Args['Save'    ]??[]);      $this->Assets   =$this->Create_Object('/UE/Deps/Assets'  ,$Args['Assets'  ]??[]);            $this->Assets->UE=$this;            $this->Cache_Manager=$CM=$this->Create_Object('/Cache/Manager');      $this->Cache_MD5    =$CM->GetMapFile ($this->Cache_MD5_File   ); // GetMD5Enum($this->Cache_MD5_File);      $this->Cache_Info   =$CM->GetMapFile ($this->Cache_Info_File  );      $this->Cache_Assets =$CM->GetMapDir  ($this->Cache_Assets_Dir );      $this->Required     =new T_FS_Param   ();            $this->Required->Def=~0;            // Init    //$this->Assign($Args[0] ?? $Args['Request']);      $this->Content ->Init($this, $this->Asset_Content_Dir ,'/Game');      $this->Save    ->Init($this, $this->Asset_Save_Dir    ,'', true);    }       Function _Done()    {      $this->Content ->Done();      $this->Save    ->Done();      ForEach($this->Contents As $Content)        $Content->Done();      $this->Assets       ->Done();            // TODO: $this->Cache_MD5    ->Done();      // TODO: $this->Cache_Assets ->Done();      // TODO: $this->Cache_Info   ->Done();            $this->Log          ->Done();      parent::_Done();    }     Function LoadAssets()    {      $this->Content->LoadAssets();      $this->Save->LoadAssets();      ForEach($this->Contents As $Content)        $Content->LoadAssets();      $this->Assets->Check_Numeration();    }        Function GetRequired($AssetPath) { return $this->Required->Get($AssetPath); }        Function _Check_Asset($FullPath, $Path)    {      $this->Cache_Assets ->Check($FullPath);      $this->Cache_MD5    ->Check(    $Path);      $this->Cache_Info   ->Check(    $Path);    }        Function Content_Add($Path, $Prefix)    {      $Res=new T_UE_Content();      $Res->Init($this, $Path, $Prefix);      $this->Contents[]=$Res;      return $Res;    }        Function Check_Dependances() { $this->Assets->Check_Dependances(); }    Function SaveUndepended() { $this->Assets->SaveUndepended(); }    Function RestoreSaved() { $this->Assets->RestoreSaved(); }  }?>