<? Require_Once 'Lib/Stream/tfile.php';  $InputLog='Log/MyProject.log'; $OutputDir='Log/Parsed';  $LogMap=Array(   'Review/Game'=>Array(     'UInteraction_Warning'       ,     'FFixRes'                    ,   ),   'Review/Unreal'=>Array(     'LoadErrors'                 ,     'LoadErrors_Error'           ,     'LoadErrors_Warning'         ,     'LogAnimation_Warning'       ,     'LogBlueprint_Error'         ,     'LogBlueprint_Warning'       ,     'LogBlueprintDebug_Warning'  ,     'LogBrush'                   ,     'LogClass_Warning'           ,     'LogConsoleManager_Display'  ,     'LogEnum_Warning'            ,     'LogK2Compiler_Warning'      ,     'LogLevelStreaming_Display'  ,     'LogLinker_Warning'          ,     'LogMaterial_Warning'        ,     'LogPhysics_Error'           ,     'LogPhysics_Warning'         ,     'LogSkinnedMeshComp_Warning' ,     'LogSpawn_Warning'           ,     'LogTextFormatter_Warning'   ,     'LogUObjectGlobals_Warning'  ,     'Other'                      ,     'PIE_Warning'                ,   ),   'Discard/Dummy'=>Array(     'FDummyContext'        ,     'FDummyObject'         ,     'FDummyObject_Warning' ,     'FDummyObjects'        ,   ),   'Discard/Tools'=>Array(     'FAssetAnalyzer'       ,   ),   'Discard/Game'=>Array(     'TFastStringTest'      ,     'TNameToTitleTest'     ,     'TTemplateParamsTest'  ,     'UDebugObject'         ,     'UMyBadComponent'      ,   ),   'Discard/Unreal'=>Array(     'BlueprintLog'                            ,     'Cmd'                                     ,     'LightingResults'                         ,     'LocalizationService'                     ,     'LogAIModule'                             ,     'LogAudioDerivedData_Display'             ,     'LogAnimationCompression'                 ,     'LogAssetRegistry'                        ,     'LogCollectionManager'                    ,     'LogConsoleResponse_Display'              ,     'LogContentBrowser'                       ,     'LogContentStreaming'                     ,     'LogCook_Display'                         ,     'LogCrashTracker'                         ,     'LogD3D11RHI'                             ,     'LogDerivedDataCache'                     ,     'LogDerivedDataCache_Display'             ,     'LogDevObjectVersion'                     ,     'LogDirectoryWatcher'                     ,     'LogEditorServer'                         ,     'LogEngine'                               ,     'LogExit'                                 ,     'LogExternalProfiler'                     ,     'LogFileCache'                            ,     'LogFileHelpers'                          ,     'LogHMD'                                  ,     'LogInit'                                 ,     'LogInit_Display'                         ,     'LogLoad'                                 ,     'LogMaterial'                             ,     'LogMemory'                               ,     'LogMeshUtilities'                        ,     'LogModuleManager'                        ,     'LogNetVersion'                           ,     'LogObj'                                  ,     'LogOcInput'                              ,     'LogOnline_Display'                       ,     'LogPackageLocalizationCache'             ,     'LogPlatformFile'                         ,     'LogPluginManager'                        ,     'LogRenderer'                             ,     'LogRHI'                                  ,     'LogShaderCompilers'                      ,     'LogShaderCompilers_Display'              ,     'LogSlate'                                ,     'LogSourceControl'                        ,     'LogStats'                                ,     'LogStaticMesh'                           ,     'LogTargetPlatformManager_Display'        ,     'LogTaskGraph'                            ,     'LogTcpMessaging'                         ,     'LogTemp_Display'                         ,     'LogTextLocalizationManager'              ,     'LogTexture_Display'                      ,     'LogUdpMessaging'                         ,     'LogUObjectAllocator'                     ,     'LogUObjectArray'                         ,     'LogWindows'                              ,     'LogWindowsTextInputMethodSystem_Display' ,     'MapCheck'                                ,     'SourceControl'                           ,     'SourceControl_Warning'                   ,   ), );  $LogPaths=Array(); foreach($LogMap as $Path=>$List)   foreach($List as $Item)     $LogPaths[$Item]=$Path;  $Logs=Array();  Function GetLog($Name) {   Global $Logs      ;   Global $OutputDir ;   Global $LogPaths  ;      if(IsSet($Logs[$Name]))     return $Logs[$Name];   $f=new T_Stream_File();   $OutDir=$OutputDir.'/';   if(IsSet($LogPaths[$Name]))     $OutDir.=$LogPaths[$Name];   else     $OutDir.='Unsort';   $f->Assign($OutDir.'/'.$Name.'.log');   $f->Create(); //$f->Open(omReadWrite|omBinary|omMakePath|omCreate|omClear);   $Logs[$Name]=$f;   return $f; } $f=new T_Stream_File(); $f->Assign($InputLog); $f->Open(omReadOnly|omBinary); while(!$f->EOF()) {   $Line=$f->Get_Line();   $Name="Unmatched";   // [2016.11.26-12.28.22:625][287]LogLinker:Warning: Asset 'D:/Proj/Path/Asset.uasset' has been saved with empty engine version. The asset will be loaded but may be incompatible.   if(Preg_Match('/^(\[\d\d\d\d\.\d\d\.\d\d\-\d\d\.\d\d\.\d\d\:\d\d\d\])?(\[\s*\d+\])?(\w+\:)?(\w+\:)?\s*(.*)$/Ss',$Line,$Matches))   {   //$Str   =$Matches[0];   //$Date  =$Matches[1];   //$Num   =$Matches[2];     $Class =$Matches[3];     $Type  =$Matches[4];   //if($Matches[3]==="") echo $Line,"\n";     $Line  =$Matches[5];     if($Class==="")       $Name="Other";     else       $Name=SubStr($Class, 0, -1);          if($Type!=="")       $Name.='_'.SubStr($Type, 0, -1);     //echo $Class,"\n";   }   else     echo $Line,"\n";   GetLog($Name)->Write($Line."\n"); } $f->Close(); foreach($Logs as $k=>$v)   $v->Close();?>